@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix cc: <http://creativecommons.org/ns#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .
@prefix org: <http://www.w3.org/ns/org#> .
@prefix rov: <http://www.w3.org/ns/regorg#>.
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix meemoo: <http://data.meemoo.be/ns/> .
@prefix foaf:       <http://xmlns.com/foaf/0.1/> .
@prefix agr: <http://promsns.org/def/agr#> .

#################################################################
#    Properties
#################################################################
org:siteAddress a owl:ObjectProperty, rdf:Property;

    rdfs:label "site Address"@en;
    rdfs:label "adresse du Site"@fr;
    rdfs:label "adres van de vestiging"@nl;

    rdfs:domain org:Site;

    rdfs:comment """Indicates an address for the site in a suitable encoding. Use of vCard (using the http://www.w3.org/TR/vcard-rdf/ vocabulary) is encouraged but the range is left open to allow other encodings to be used. The address may include email, telephone, and geo-location information and is not restricted to a physical address. """@en;
    rdfs:comment """Indique une adresse pour le site dans un encodage approprié. L'usage du vocabulaire vCard ( http://www.w3.org/TR/vcard-rdf/) est encouragé, mais le range est ouvert pour permettre l'utilisation d'autres vocabulaires. L'adresse peut comporter le courriel, le téléphone, et l'information de géolocalisation; et n'est donc pas seulement limitée à une adresse physique. """@fr.

org:role a owl:ObjectProperty, rdf:Property;

    rdfs:label "role"@en;
    rdfs:label "rôle"@fr;
    rdfs:label "rol"@nl;

    rdfs:comment """Indicates the Role that the Agent plays in a Membership relationship with an Organization."""@en;
    rdfs:comment """Indique le Rôle de l'Agent dans son Engagement avec l'Organisation."""@fr;
    rdfs:comment """Rol die de agent vervult als lid van de organisatie."""@nl; 

    rdfs:domain [a owl:Class; owl:unionOf (org:Membership org:Post)];
    rdfs:range  org:Role; 
    rdfs:isDefinedBy <http://www.w3.org/ns/org> .

org:postIn a owl:ObjectProperty, rdf:Property;

    rdfs:label "post in"@en;
	rdfs:label "poste chez"@fr;
    rdfs:label "positie in"@nl;

    rdfs:comment """Indicates the Organization in which the Post exists."""@en;
    rdfs:comment """Indicate l'Organisation dans laquelle le Poste existe."""@fr;
    
    rdfs:domain org:Post;
    rdfs:range  org:Organization;
    rdfs:isDefinedBy <http://www.w3.org/ns/org> .

org:hasPost a owl:ObjectProperty, rdf:Property;

    rdfs:label "has post"@en;
	rdfs:label "possède un poste"@fr;
    rdfs:label "heeft positie"@nl;

    rdfs:comment """Indicates a Post which exists within the Organization."""@en;
	rdfs:comment """Indicate un Poste qui existe dans l'Organisation."""@fr;
    rdfs:comment """Verwijst naar een positie in de organisatie."""@nl;
    
    rdfs:domain  org:Organization;
    rdfs:range   org:Post;
    rdfs:isDefinedBy <http://www.w3.org/ns/org> .

schema:logo a owl:ObjectProperty, rdf:Property.
foaf:homepage a owl:ObjectProperty, rdf:Property.
org:classification a owl:ObjectProperty, rdf:Property.

dc:description a rdf:Property;
    rdfs:label "Beschrijving van de organisatie."@nl.

meemoo:hasAccountmanager a owl:ObjectProperty, rdf:Property;
    rdfs:label "has account manager"@en;
    rdfs:label "Le Gestionnaire de Comptes "@fr;
    rdfs:label "heeft account manager"@nl.

meemoo:isAccountManagerOf a owl:ObjectProperty, rdf:Property;
    rdfs:label "is account manager of"@en;
    rdfs:label "est le Gestionnaire de Comptes de"@fr;
    rdfs:label "is account manager van"@nl.

#################################################################
#   Classes / NodeShapes
#################################################################

org:Organization a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf  foaf:Agent;
    owl:equivalentClass foaf:Organization;
    rdfs:label "Organization"@en;
    rdfs:label "Organisation"@fr;
    rdfs:label "Organisatie"@nl;
    rdfs:comment """Represents a collection of people organized together into a community or other social, commercial or political structure. The group has some common purpose or reason for existence which goes beyond the set of people belonging to it and can act as an Agent. Organizations are often decomposable into hierarchical structures.  It is recommended that SKOS lexical labels should be used to label the Organization. In particular `skos:prefLabel` for the primary (possibly legally recognized name), `skos:altLabel` for alternative names (trading names, colloquial names) and `skos:notation` to denote a code from a code list. Alternative names: _Collective_ _Body_ _Org_ _Group_"""@en;
    rdfs:comment """Représente un groupe de personnes organisées en communauté où tout autre forme de structure sociale, commerciale ou politique. Le groupe a un but commun ou une raison d'être qui va au-delà de la somme des personnes qui en font partie et peut agir en tant que "Agent". Les organisations sont souvent décomposables en structures hiérarchisées. Il est recommandé que des labels lexicaux SKOS soient utilisés pour nommer l'Organisation. En particulier `skos:prefLabel` pour le nom principal (en général le nom légal), `skos:altLabel` pour les noms alternatifs (marques, sigles, appellations familières) et `skos:notation` pour indiquer un code provenant d'une liste de code."""@fr;  
    rdfs:isDefinedBy <http://www.w3.org/ns/org> ;
    sh:property <#prefLabel>, <#altLabel>, [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path schema:logo;
        sh:nodeKind sh:IRI;
        sh:minCount 0;
        sh:maxCount 1;
        sh:name "schema:logo not correctly specified"@en;
        sh:message "schema:logo is missing or is no IRI"@en
    ], 
    # [
    #     a sh:PropertyShape ;
    #     sh:severity sh:Warning;
    #     sh:path schema:legalName;
    #     sh:datatype xsd:string;
    #     sh:minCount 1;
    #     sh:maxCount 1;
    #     sh:name "schema:legalName not correctly specified"@en;
    #     sh:message "schema:legalName is missing or is not a string"@en
    # ],
    [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path foaf:homepage;
        sh:nodeKind sh:IRI;
        sh:minCount 0;
        sh:maxCount 1;
        sh:name "foaf:homepage not correctly specified"@en;
        sh:message "foaf:homepage is missing or is no IRI"@en
    ],[
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path dc:description;
        sh:datatype xsd:string;
        sh:minCount 0;
        sh:maxCount 1;
        sh:name "dc:description not correctly specified"@en;
        sh:message "dc:description is missing"@en
    ],
    [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path org:classification;
        sh:minCount 1;
        sh:class skos:Concept;
        sh:name "org:classification not correctly specified"@en;
        sh:message "org:classification is missing or is no IRI"@en
    ], [
        a sh:PropertyShape ;
        sh:severity sh:Info;
        sh:path org:hasUnit;
        sh:minCount 0;
        sh:class org:OrganizationalUnit;
        sh:name "No org:OrganizationalUnit specified"@en;
        sh:message "org:hasUnit is missing or is no IRI"@en
    ], [
        a sh:PropertyShape ;
        sh:severity sh:Info;
        sh:path schema:contactPoint;
        sh:minCount 0;
        sh:class schema:ContactPoint;
        sh:name "No org:OrganizationalUnit specified"@en;
        sh:message "org:hasUnit is missing or is no IRI"@en
    ], [
        a sh:PropertyShape;
        sh:severity sh:Violation;
        sh:path org:hasPrimarySite;
        sh:class org:Site;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:name "org:hasPrimarySite not correctly specified"@en;
        sh:message "org:hasPrimarySite is no org:Site"@en
    ], [
        a sh:PropertyShape;
        sh:severity sh:Info;
        sh:path dc:isPartOf;
        sh:class meemoo:CollaborationAgreement;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:name "dc:isPartOf not correctly specified"@en;
        sh:message "dc:isPartOf is missing or is no meemoo:CollaborationAgreement"@en
    ],
    [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path meemoo:hasAccountmanager;
        sh:minCount 1;
        sh:maxCount 1;
        sh:class schema:Person;
        sh:name "meemoo:accountmanager not correctly specified"@en;
        sh:message "meemoo:accountmanager is missing or is no IRI"@en 
    ].

org:OrganizationalUnit a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf  org:Organization;
    rdfs:label "Organisatie-eenheid"@nl;
    rdfs:label "OrganizationalUnit"@en;
    rdfs:label "Unité opérationnelle"@fr;
    rdfs:comment """An Organization such as a University Support Unit which is part of some larger FormalOrganization and only has full recognition within the context of that FormalOrganization, it is not a Legal Entity in its own right. Units can be large and complex containing other Units and even FormalOrganizations. Alternative names: _OU_ _Unit_ _Department_"""@en;
    rdfs:comment """Une organisation telle que le support informatique d'une université, qui fait partie d'une Organisation Formelle plus importante et qui ne peut être reconnue qu'en tant que membre de cette organisation supérieure, ce n'est pas une entité légale en elle-même. Les unités opérationnelles peuvent être étendues, complexes et inclure elles-mêmes d'autres branches ou Unités Opérationnelles, voire des Organisations Formelles."""@fr;
    rdfs:comment "Een organisatie zoals een afdeling of dienst die deel uitmaakt van de grotere organisatie en zijn bestaansreden daaraan ontleent. Heeft geen juridische status op zich."@nl;
    rdfs:isDefinedBy <http://www.w3.org/ns/org>;
    sh:property [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path org:unitOf;
        sh:minCount 1;
        sh:class org:Organization;
        sh:name "No org:unitOf specified"@en;
        sh:message "org:unitOf is missing or is no IRI"@en
    ].

meemoo:ContentPartner a rdfs:Class, sh:NodeShape ;
    rdfs:label "Content Partner"@en ;
    rdfs:label "Contentpartner"@nl ;
    rdfs:subClassOf org:Organization;
    sh:property <#accountManager>.

meemoo:ServiceProvider a rdfs:Class, sh:NodeShape ;
    rdfs:label "Service Provider"@en ;
    rdfs:label "Serviceprovider"@nl ;
    rdfs:subClassOf org:Organization .

meemoo:EducationalOrganization a rdfs:Class, sh:NodeShape ;
    rdfs:label "Educational Organization"@en ;
    rdfs:label "Educatieve organisatie"@nl ;
    rdfs:subClassOf org:Organization .

meemoo:EducationalPartner a rdfs:Class, sh:NodeShape ;
    rdfs:label "Educational Partner"@en ;
    rdfs:label "Educatieve partner"@nl ;
    rdfs:subClassOf meemoo:EducationalOrganization ;
    sh:property <#accountManager>.

meemoo:EducationalPublisher a rdfs:Class, sh:NodeShape ;
    rdfs:label "Educational Publisher"@en ;
    rdfs:label "Educatieve uitgever"@nl ;
    rdfs:subClassOf meemoo:EducationalOrganization .

meemoo:School a rdfs:Class, sh:NodeShape ;
    rdfs:label "School"@en ;
    rdfs:label "School"@nl ;
    rdfs:subClassOf meemoo:EducationalOrganization .

meemoo:CollaborationAgreement a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf agr:Agreement;
    rdfs:label "Collaboration Agreement"@en;
    rdfs:label "Samenwerkingsovereenkomst"@nl.

meemoo:ServiceAgreement a rdfs:Class, sh:NodeShape ;
    rdfs:subClassOf agr:Agreement;
    rdfs:label "Service Agreement"@en;
    rdfs:label "Dienstverleningsovereenkomst"@nl.

#Aanbieder = organisatie in avo

org:Site a rdfs:Class, sh:NodeShape ;
    rdfs:label "Site"@en;
    rdfs:label "Site"@fr;
    rdfs:label "Vestiging"@nl;
    rdfs:comment """An office or other premise at which the organization is located. Many organizations are spread across multiple sites and many sites will host multiple locations. In most cases a Site will be a physical location. However, we don't exclude the possibility of non-physical sites such as a virtual office with an associated post box and phone reception service. Extensions may provide subclasses to denote particular types of site."""@en;
    rdfs:comment """Un établissement ou tout autre lieu dans lequel une Organisation est localisé. Beaucoup d'organisations sont dispersées à travers plusieurs sites. Dans la plupart des cas un Site sera un lieu physique. Toutefois, nous n'excluons pas la possibilité de sites non-physiques comme un bureau virtuel avec une boîte postale et un service de secrétariat mutualisé. Des extensions pourraient fournir des sous-classes pour décrire des types de sites particuliers."""@fr;
    rdfs:comment """Een kantoor of ander pand waar een organisatie gevestigd is. Organisaties kunnen over meerdere vestigingen verspreid zijn en vestigingen kunnen op meerdere locaties slaan."""@nl;
    rdfs:isDefinedBy <http://www.w3.org/ns/org>;
    sh:property [
        a sh:PropertyShape;
        sh:severity sh:Violation;
        sh:path org:siteAddress;
        sh:class schema:ContactPoint;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:name "siteAddress not correctly specified"@en;
        sh:message "skos:prefLabel is missing or is no Literal"@en 
    ].

org:Post a rdfs:Class, sh:NodeShape;
    rdfs:label "Post"@en;
  	rdfs:label "Poste"@fr;
    rdfs:label "Positie"@nl;
    rdfs:comment """A Post represents some position within an organization that exists independently of the person or persons filling it. Posts may be used to represent situations where a person is a member of an organization ex officio (for example the Secretary of State for Scotland is part of UK Cabinet by virtue of being Secretary of State for Scotland, not as an individual person). A post can be held by multiple people and hence can be treated as a organization in its own right."""@en;
  	rdfs:comment """Un Poste représente une position au sein d'une Organisation qui existe indépendamment de la personne ou des personnes qui le remplissent. Les postes peuvent être utilisés pour représenter des situations où une personne est membre d'une Organisation d'office (par exemple, le Secrétaire d'Etat pour l'Ecosse fait partie du Cabinet du Royaume-Uni du fait d'être Secrétaire d'Etat pour l'Ecosse, non pas comme une personne physique). Un poste après peut être occupé par plusieurs personnes et peut donc être considéré comme une Organisation à part entière."""@fr;
    rdfs:comment """Functie binnen een organisatie, kan bestaan los vd persoon of personen die ze invult."""@nl;
    rdfs:isDefinedBy <http://www.w3.org/ns/org>;
    sh:property [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path org:role;
        sh:minCount 1;
        sh:class org:Role;
        sh:name "org:role not correctly specified"@en;
        sh:message "org:role is missing or is no IRI"@en 
    ], [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path org:postIn;
        sh:minCount 1;
        sh:class org:Organization;
        sh:name "org:postIn not correctly specified"@en;
        sh:message "org:postIn is missing or is no IRI"@en 
    ] .
    
org:Role a owl:Class, rdfs:Class;
    rdfs:subClassOf skos:Concept;
    rdfs:label "Role"@en;
    rdfs:label "Rôle"@fr;
    rdfs:label "Rol"@nl;
    rdfs:comment """Denotes a role that a Person or other Agent can take in an organization. Instances of this class describe the abstract role; to denote a specific instance of a person playing that role in a specific organization use an instance of `org:Membership`. It is common for roles to be arranged in some taxonomic structure and we use SKOS to represent that. The normal SKOS lexical properties should be used when labelling the Role. Additional descriptive properties for the Role, such as a Salary band, may be added by extension vocabularies."""@en;
    rdfs:comment """Rol die een persoon of agent kan vervullen in een organisatie."""@nl;
    rdfs:isDefinedBy <http://www.w3.org/ns/org> ;
    sh:property <#prefLabel>.

# From schema

schema:Person
  a rdfs:Class ;
  a sh:NodeShape ;
  sh:property [
    a sh:PropertyShape ;
    sh:severity sh:Warning;
    sh:path org:holds;
    sh:minCount 1;
    sh:class org:Post;
    sh:name "org:holds not correctly specified"@en;
    sh:message "org:holds is missing or is no IRI"@en 
  ], [
    a sh:PropertyShape ;
    sh:path schema:givenName ;
    sh:datatype xsd:string ;
    sh:description "Given name. In the U.S., the first name of a Person. This can be used along with familyName instead of the name property."@en ;
    sh:name "givenName" 
  ], [
    a sh:PropertyShape ;
    sh:path schema:familyName ;
    sh:datatype xsd:string ;
    sh:description "Family name. In the U.S., the last name of an Person. This can be used along with givenName instead of the name property."@en ;
    sh:name "familyName" 
  ], [
    a sh:PropertyShape ;
    sh:path schema:email ;
    sh:datatype xsd:string ;
    sh:description "Email address."@en ;
    sh:name "email" 
    ],
    [
        a sh:PropertyShape ;
        sh:severity sh:Warning;
        sh:path meemoo:isAccountManagerOf;
        sh:minCount 0;
        sh:maxCount 1;
        sh:or (
            [ sh:class org:ContentPartner ]
            [ sh:class org:EducationalPartner ]
        );
        sh:name "meemoo:isAccountManagerOf not correctly specified"@en;
        sh:message "A schema:Person can only be meemoo:isAccountManagerOf one org:ContentPartner"@en
    ].

schema:PostalAddress
  a rdfs:Class ;
  a sh:NodeShape ;
  rdfs:comment "The mailing address."^^rdf:HTML ;
  rdfs:label "Postal address" ;
  rdfs:subClassOf schema:ContactPoint ;
  sh:property schema:PostalAddress-addressCountry ;
  sh:property schema:PostalAddress-addressLocality ;
  sh:property schema:PostalAddress-addressRegion ;
  sh:property schema:PostalAddress-postOfficeBoxNumber ;
  sh:property schema:PostalAddress-postalCode ;
  sh:property schema:PostalAddress-streetAddress .

schema:PostalAddress-addressCountry
  a sh:PropertyShape ;
  sh:path schema:addressCountry ;
  sh:description "The country. For example, USA. You can also provide the two-letter <a href=\"http://en.wikipedia.org/wiki/ISO_3166-1\">ISO 3166-1 alpha-2 country code</a>."^^rdf:HTML ;
  sh:name "addressCountry" ;
  sh:or (
      [
        sh:class schema:Country ;
      ]
      [
        sh:datatype xsd:string ;
      ]
    ) ;
.
schema:PostalAddress-addressLocality
  a sh:PropertyShape ;
  sh:path schema:addressLocality ;
  sh:datatype xsd:string ;
  sh:description "The locality in which the street address is, and which is in the region. For example, Mountain View."^^rdf:HTML ;
  sh:name "addressLocality" ;
.
schema:PostalAddress-addressRegion
  a sh:PropertyShape ;
  sh:path schema:addressRegion ;
  sh:datatype xsd:string ;
  sh:description "The region in which the locality is, and which is in the country. For example, California or another appropriate first-level <a href=\"https://en.wikipedia.org/wiki/List_of_administrative_divisions_by_country\">Administrative division</a>"^^rdf:HTML ;
  sh:name "addressRegion" ;
.
schema:PostalAddress-postOfficeBoxNumber
  a sh:PropertyShape ;
  sh:path schema:postOfficeBoxNumber ;
  sh:datatype xsd:string ;
  sh:description "The post office box number for PO box addresses."^^rdf:HTML ;
  sh:name "postOfficeBoxNumber" ;
.
schema:PostalAddress-postalCode
  a sh:PropertyShape ;
  sh:path schema:postalCode ;
  sh:datatype xsd:string ;
  sh:description "The postal code. For example, 94043."^^rdf:HTML ;
  sh:name "postalCode" ;
.
schema:PostalAddress-streetAddress
  a sh:PropertyShape ;
  sh:path schema:streetAddress ;
  sh:datatype xsd:string ;
  sh:description "The street address. For example, 1600 Amphitheatre Pkwy."^^rdf:HTML ;
  sh:name "streetAddress" ;
.


schema:ContactPoint
  a rdfs:Class ;
  a sh:NodeShape ;
  rdfs:comment "A contact point&#x2014;for example, a Customer Complaints department."^^rdf:HTML ;
  rdfs:label "Contact point" ;
  rdfs:subClassOf schema:StructuredValue ;
  sh:property schema:ContactPoint-contactType ;
  sh:property schema:ContactPoint-email ;
  sh:property schema:ContactPoint-telephone ;
.

schema:ContactPoint-contactType
  a sh:PropertyShape ;
  sh:path schema:contactType ;
  sh:datatype xsd:string ;
  sh:description "A person or organization can have different contact points, for different purposes. For example, a sales contact point, a PR contact point and so on. This property is used to specify the kind of contact point."^^rdf:HTML ;
  sh:name "contactType" ;
.
schema:ContactPoint-email
  a sh:PropertyShape ;
  sh:path schema:email ;
  sh:datatype xsd:string ;
  sh:description "Email address."^^rdf:HTML ;
  sh:name "email" ;
.
schema:ContactPoint-telephone
  a sh:PropertyShape ;
  sh:path schema:telephone ;
  sh:datatype xsd:string ;
  sh:description "The telephone number."^^rdf:HTML ;
  sh:name "telephone" ;
.

# Property Shapes

<#prefLabel>
    a sh:PropertyShape;
    sh:severity sh:Violation;
    sh:path skos:prefLabel;
    sh:datatype xsd:string;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:name "prefLabel not correctly specified"@en;
    sh:message "skos:prefLabel is missing or is no Literal"@en .

<#altLabel>
    a sh:PropertyShape ;
    sh:severity sh:Violation;
    sh:path skos:altLabel;
    sh:datatype xsd:string;
    sh:minCount 0;
    sh:name "title not correctly specified"@en;
    sh:message "skos:prefLabel is missing or no Literal"@en.
    
<#accountManager> 
    a sh:PropertyShape ;
    sh:severity sh:Warning;
    sh:path meemoo:hasAccountmanager;
    sh:minCount 1;
    sh:maxCount 1;
    sh:class schema:Person;
    sh:name "meemoo:accountmanager not correctly specified"@en;
    sh:message "meemoo:accountmanager is missing or is no IRI"@en .